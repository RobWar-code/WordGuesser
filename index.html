<!DOCTYPE html>
<html lang="en"> 
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width:display-width, initial-scale:1">
    <title>WordGuesser</title>
    <meta name="description" content="A stake and word guess game">
    <meta name="author" content="Robin Warner">
    <meta name="keywords" content="word game">
    <link rel="stylesheet" href="src/styles/styles.css">
</head>
<body>
    <!-- Menu -->
    <table id="menuTable">
        <tr id="menuRow">
            <td id="menuLogoCell">
                <img src="assets/images/mainLogo.png" width="64" height="32">
            </td>
            <td id="menuTitleCell">WordGuesser</td>
            <td id="menuOptionsCell">
                <button class="textButton" id="introBtn">Intro</button>
                <button class="textButton" id="homeBtn">Home</button>
            </td>
        </tr>
    </table>

    <div id="introDiv">
        <h3>Introduction</h3>
        <p>
            Welcome to WordGuesser the stake and guess game for guessing
            words.
        </p>
        <p>
            The aim of the game is to bet on your correct guesses at hidden
            words or phrases and the letters within them to try to reach
            the maximum bank of 5000 tokens.
        </p>
        <p>
            The options for guessing a letter or guessing the word or phrase
            are presented on the display. You have to make an initial word
            guess stake and then make an additional bid(s) for letters.

            The more letters that you reveal the lower the payout odds 
            before you guess the word or phrase.
        </p>
        <button class="textButton" id="introDismiss">Dismiss</button>
    </div>

    <div id="gameContentDiv">
        <div class="row" id="wordsDiv">
            <div class="col" id="wordsPanel">

            </div>
        </div>
        <div class="row displayRow" id="initialBidDiv">
            <div class="col panel" id="initialBidPanel">
                <div>
                    <img src="assets/images/wordBid01.png" width="100%" height="auto" alt="Bid Cartoon">
                </div>
                <p class="statusText">Enter your bid for the word</p>
                <label for="initialBid">Bid Amount: </label>
                <input type="number" name="initialBid" id="initialBid">
                <button class="textButton" id="initialBidSubmit">Submit</button>
            </div>
        </div>

        <div class="row displayRow" id="mainOptionsDiv">
            <div class="col panel" id="mainOptionPanel">
                <p class="statusText">Click on option to bid for a letter or the word/phrase</p>
                <button class="textButton" id="sageOpt">Pay Sage for Letter (min bid 40)</button><br>
                <button class="textButton" id="playerOpt">You Guess a Letter (min bid 10)</button><br>
                <button class="textButton" id="selectorOpt">Use the Magic Selector (min bid 5)</button><br>
                <button class="textButton" id="guessWordOpt">Guess Word</button>
            </div>
        </div>

        <div class="row displayRow" id="guessWordOptOnlyDiv">
            <div class="col panel" id="mainOptionPanel">
                <p class="statusText">Less than half of the letters left, so you must now guess the word or phrase</p>
                <button class="textButton" id="guessWordOpt2">Guess Word</button>
            </div>
        </div>

        <div class="row displayRow" id="sageDiv">
            <div class="col halfPanel">
                <img src="assets/images/sage01.png" alt="Sage" width="100%" height="auto">
            </div>
            <div class="col halfPanel">
                <label for="sageBid">Your Bid: </label>
                <input type="number" name="sageBid" id="sageBid">
                <button class="textButton" id="sageSubmit">Submit</button>
                <div id="sageChoiceDiv">
                    <p>Sage's Choice: <span id="sageLetter"></span></p>
                </div>
            </div>
        </div>

        <div class="row displayRow" id="playerGuessDiv">
            <div class="col halfPanel">
                <img src="assets/images/playerGuess.png" alt="Player Guess" width="100%" height="auto">
            </div>
            <div class="col halfPanel">
                <p class="statusText">Enter Your Letter Guess</p>
                <input type="text" id="playerGuessLetter">
                <p class="statusText">Enter Your Bid</p>
                <input type="number" id="playerGuessBid">
                <button class="textButton" id="playerGuessSubmit">Submit</button>
            </div>
        </div>

        <div class="row displayRow" id="magicSelectorDiv">
            <div class="col halfPanel">
                <img src="assets/images/magicSelector01.png" alt="Magic Selector" width="100%" height="auto">
            </div>
            <div class="col halfPanel">
                <div id="selectorBidDiv">
                    <p class="statusText">Enter Bid Amount</p>
                    <input type="number" id="selectorBid">
                    <button class="textButton" id="selectorBidSubmit">Submit</button>
                </div>
                <div id="selectorLetterDiv">
                    <p class="statusText">Touch the Selector to Choose the Letter</p>
                    <p>SELECTOR</p>
                    <table id="selectorTab">
                        <tr><td id="selectorCell"></td></tr>
                    </table>
                </div>
            </div>
        </div>

        <div class="row displayRow" id="wordGuessDiv">
            <div class="col panel">
                <div>
                    <img src="assets/images/wordGuess01.png" width="100%" height="auto" alt="Word Guess">
                </div>
                <div>
                    <p class="statusText">Enter your word/phrase guess - gamble your pot money</p>
                    <input type="text" id="wordGuess">
                    <button class="textButton" id="wordGuessSubmit">Submit</button>
                </div>
            </div>
        </div>

        <div class="row displayRow" id="brokeDiv">
            <div class="col tallHalfPanel">
                <img src="assets/images/broke.png" width="100%" height="auto" alt="Broke Image">
            </div>
            <div class="col tallHalfPanel">
                <p>Well you've hit skid row - you'll have to ask the rich uncle for a restart</p>
                <button class="textButton" id="brokeRestart">Restart Game</button>
            </div>
        </div>

        <div class="row displayRow" id="winGameDiv">
            <div class="col tallHalfPanel">
                <img src="assets/images/winGame.png" width="100%" height="auto" alt="Winner Image">
            </div>
            <div class="col tallHalfPanel">
                <p>Congratulations - you hit the big time and won the game - play again?</p>
                <button class="textButton" id="winRestart">Restart Game</button>
            </div>
        </div>

        <div class="row displayRow" id="statusDiv">
            <div class="col panel" id="statusPanel">
                <p class="statusText" id="statusPara"></p>
            </div>
        </div>

        <div id="moneyDiv">
            <p><b>Bank:</b> <span id="bankAmount"></span> <b>Pot: </b><span id="potAmount"></span></p>
            <p><b>Word Guess Odds: </b><span id="odds"></span></p>
        </div>
    </div>

<script src="src/game.js"></script>
<script src="src/phraseList.js"></script>
<script src="src/wordList.js"></script>
<script src="src/wordFuncs.js"></script>

<script>
    let gameStarted = false;
    const introDismiss = document.getElementById("introDismiss");
    const initialBidSubmit = document.getElementById("initialBidSubmit");
    const sageOpt = document.getElementById("sageOpt");
    const sageSubmit = document.getElementById("sageSubmit");
    const playerOpt = document.getElementById("playerOpt");
    const playerGuessSubmit = document.getElementById("playerGuessSubmit");
    const selectorOpt = document.getElementById("selectorOpt");
    const selectorBidSubmit = document.getElementById("selectorBidSubmit");
    const selectorCell = document.getElementById("selectorCell");
    const guessWordOpt = document.getElementById("guessWordOpt");
    const guessWordOpt2 = document.getElementById("guessWordOpt2");
    const wordGuessSubmit = document.getElementById("wordGuessSubmit");
    const brokeRestart = document.getElementById("brokeRestart");
    const winRestart = document.getElementById("winRestart");

    introDismiss.addEventListener("click", (e) => {
        document.getElementById("introDiv").style.display = "none";
        document.getElementById("gameContentDiv").style.display = "block";

        if (!gameStarted) {
            gameStarted = true;
            game.initialise();
            game.startWord();
        }
    });

    initialBidSubmit.addEventListener("click", (e) => {
        game.doInitialBid();
    });

    // Main Options
    sageOpt.addEventListener("click", (e) => {
        game.doSageOpt();
    });

    sageSubmit.addEventListener("click", (e) => {
        if (game.blockSubmit) return;
        game.doSageBid();
    });

    playerOpt.addEventListener("click", (e) => {
        game.doPlayerLetterGuessOpt();
    });

    playerGuessSubmit.addEventListener("click", (e) => {
        if (game.blockSubmit) return;
        game.doPlayerLetterGuess();
    });

    selectorOpt.addEventListener("click", (e) => {
        game.doMagicSelectorOpt();
    });

    selectorBidSubmit.addEventListener("click", (e) => {
        if (game.blockSubmit) return;
        game.doSelectorBid();
    });

    selectorCell.addEventListener("click", (e) => {
        game.doMagicSelection();
    });

    guessWordOpt.addEventListener("click", (e) => {
        game.doWordGuessOpt();
    });

    guessWordOpt2.addEventListener("click", (e) => {
        game.doWordGuessOpt();
    });

    wordGuessSubmit.addEventListener("click", (e) => {
        if (game.blockSubmit) return;
        game.doWordGuess();
    });

    brokeRestart.addEventListener("click", (e) => {
        game.brokeRestart();
    });

    winRestart.addEventListener("click", (e) => {
        game.winRestart();
    });

</script>
</body>
</html>
